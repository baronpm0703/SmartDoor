<style>
    /* Add hover effect color to dropdown items */
    .dropdown-item:hover {
        background-color: rgba(52, 224, 161, 0.5);
        /* Change the color as per your preference */
        color: #fff;
        /* Change the text color as needed */
    }
</style>
<header>
    <!-- place navbar here -->
    <nav class="navbar navbar-expand-sm navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/home"><span class="fw-bold" id="welcomeText">Welcome, {{account.username}}</span></a>
            <div class="btn-group dropstart">
                <img src="{{#if account.url}}{{account.url}}{{else}}/img/avt.jpg{{/if}}" alt="avatar"
                    id="avatarImage"
                    class="dropdown-toggle object-fit-contain" data-bs-toggle="dropdown" aria-expanded="false"
                    style="margin-left: auto; margin-right: 1em; border-radius: 50%; border: 3px solid rgb(52,224,161)">
                <ul class="dropdown-menu dropdown-menu-dark">
                    <li><a class="dropdown-item" href="/home/personalInfo">Personal Info</a></li>
                    <li><a class="dropdown-item" href="/home/config">User Config</a></li>
                    <li><a class="dropdown-item" href="/home/logout">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

</header>
<main>
    <div class="container-fluid h-100">
        <div class="bg-danger container-fluid border rounded-4 my-3 w-75 h-25 {{#if (isTrue warning.Reality)}}  d-block {{else}} d-none {{/if}}"
            style="padding-top: 1em">
            <div>
                <p id="notificationText" class="text-light text-center w-100 fw-bold">Notification: Stranger Alert!!</p>
            </div>
        </div>

        <div class="container-fluid text-center w-50 my-3 ">
            <img id="streamedImage" src="{{#if (isTrue cameraState)}}/img/avt.jpg{{else}}{{/if}}" 
                class="object-fit-contain w-100"
                alt="Camera is turned off or Image is Loading..."
                data-ip="data:image/jpeg;base64,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" 
            >
                {{!-- data-ip="{{cameraIP}}/cam-mid.jpg" --}}
        </div>

        <div class="container-fluid featureBlock  w-75 d-flex flex-row align-items-center bg-dark rounded-4 my-3 ">

            <div id="warningIc" class="bg-warning text-center rounded-circle iconBlock ms-1">
                <img src="/img/warning.svg" alt="warning" class="w-75 mb-1">
            </div>

            <div class="w-75 ms-2  me-1">
                <p class="text-light w-100 m-0 fw-bold featureText" >Trigger Warning</p>
            </div>

            <button class="bg-warning w-25 rounded-4 warn-btn featureBtn">
                <span class="text-dark fw-bold featureFunctionText">
                    Warn
                </span>
            </button>
        </div>

        <div class="container-fluid featureBlock  w-75 d-flex flex-row align-items-center rounded-4 my-3"
            style=" background-color: rgb(52,224,161)">

            <div class="bg-dark text-center rounded-circle IcPad iconBlock ms-1">
                <img src="/img/Info.svg" alt="info" class="w-75">
            </div>

            <div class="w-75 ms-2  me-1">
                <p class="text-dark w-100 m-0 fw-bold featureText">Distance</p>
            </div>

            <div class="bg-dark w-25 rounded-4 d-flex justify-content-center featureBtn">
                <span class="fw-bold featureFunctionText" style="color: rgb(52,224,161);">
                    {{convertDistance sensorData.Ultrasonic}}
                </span>
            </div>
        </div>

        <div class="container-fluid featureBlock w-75 d-flex flex-row align-items-center rounded-4 my-3"
            style=" background-color: rgb(52,224,161)">

            <div class="bg-dark text-center rounded-circle IcPad iconBlock ms-1">
                <img src="/img/Access.svg" alt="access" class="w-75">
            </div>

            <div class="w-75 ms-2 me-1">
                <p class="text-dark w-100 m-0 fw-bold featureText">Access History</p>
            </div>

            <a href="/home/accessHistory" class="bg-dark w-25 rounded-4 d-flex justify-content-center featureBtn"
                style="text-decoration: none;">
                <span class="fw-bold featureFunctionText" style="color: rgb(52,224,161);">
                    Detail
                </span>
            </a>
        </div>

        <div class="container-fluid featureBlock w-75 d-flex flex-row align-items-center rounded-4 my-3"
            style=" background-color: rgb(247,247,247)">

            <div class="bg-light text-center rounded-circle iconBlock ms-2">
                <img src="{{#if (isTrue doorData.Reality)}}/img/Door Open.svg{{else}}/img/Door Close.svg{{/if}}"
                    alt="door status" id="ic_door" class="w-100">
            </div>

            <div class="w-75 ms-2 me-3">
                <p class="text-dark w-100 m-0 fw-bold featureText" id="door_status">Actual State: {{#if
                    (isTrue doorData.Reality)}}Door Open{{else}}Door Close{{/if}}</p>
            </div>


            <div class="form-check form-switch d-flex justify-content-center" style="width: 6rem; height: 1em;">
                <input class="form-check-input w-100 h-75" type="checkbox" role="switch" id="flexSwitchCheckChecked"
                    {{#if (isTrue doorData.Reality)}}checked{{/if}}>
            </div>
        </div>

        <div class="container-fluid featureBlock w-75 d-flex flex-row align-items-center rounded-4 my-3"
            style=" background-color: rgb(247,247,247)">

            <div class="bg-light text-center rounded-circle iconBlock ms-2">
                <img src="{{#if (isTrue cameraState)}}/img/camera.svg{{else}}/img/camera-off.svg{{/if}}"
                    alt="camera status" id="camera_status_ic" class="w-100">
            </div>

            <div class="w-75 ms-2 me-3">
                <p class="text-dark w-100 m-0 fw-bold featureText" id="camera_status_text">{{#if (isTrue
                    cameraState)}}Camera Is On{{else}}Camera Is Off{{/if}}</p>
            </div>


            <div class="form-check form-switch d-flex justify-content-center" style="width: 6rem; height: 1em;">
                <input class="form-check-input w-100 h-75" type="checkbox" role="switch" id="camera_status_switch" {{#if
                    (isTrue cameraState)}}checked{{/if}}>
            </div>
        </div>

    </div>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>

<script>
    // Connect to the WebSocket server
    const socket = io();

    // Listen for the 'dataUpdated' event
    socket.on('dataUpdated', (data) => {
        console.log('Data updated:', data);
        location.reload();
    });

</script>


<script>
    // Camera Status
    var cam_switch = document.getElementById("camera_status_switch");
    if (cam_switch.checked) {
        setTimeout(updateImage, 1000);
    } 
    cam_switch.addEventListener('change', async function () {
        console.log("Change");
        if (this.checked) {
            console.log("Camera On");
            var toSend = {
                cameraState: true
            }
            var On = await fetch('/home/webCam', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(toSend)
            });
        } else {
            console.log("Camera Off");
            var toSend = {
                cameraState: false
            }
            var Off = await fetch('/home/webCam', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(toSend)
            });
        }
    })

    // Door Status
    var door_switch = document.getElementById("flexSwitchCheckChecked");
    door_switch.addEventListener('change', async function () {
        console.log("Change");
        if (this.checked) {
            console.log("Open");
            var DoorStatus = {
                Expectation: true
            }
            var Close = await fetch('/home/door', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(DoorStatus)
            });

            //location.reload();
        } else {

            var door_time = document.getElementById('door-time');
            var DoorStatus = {
                Expectation: false
            }
            console.log("Close");
            var Open = await fetch('/home/door', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(DoorStatus)
            });

            //location.reload();
        }
    })

    // JavaScript code to periodically update the image
    function updateImage() {
        const imgElement = document.getElementById('streamedImage');
        const imageUrl = imgElement.dataset.ip;

        // Update the image source
        imgElement.src = imageUrl;

        // Set a timeout to update the image every 1000 milliseconds (1 second)
        setTimeout(updateImage, 1000);
    }


    // Warnning
    var warn_btn = document.querySelector('.warn-btn');
    var warn_time = document.getElementById('warn-time');
    var warn = {
        warn: true,
    }
    warn_btn.addEventListener('click', async function () {
        var Warn = await fetch('/home/warn', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(warn)
        });
    });


</script>

{{!-- Style --}}
<style>
    @media screen and (min-width: 600px) {
        .navbar {
            background-color: black;
        }

        .navbar-brand span {
            color: rgb(52, 224, 161);
        }

        #notificationText {
            font-size: 3em;
        }

        .featureBlock {
            height: 5em;
        }

        .iconBlock {
            width: 3.2em;
            height: 3em;
        }

        #warningIc {
            padding-top: 0.2em;
        }

        .IcPad {
            padding-top: 0.4em;
        }
        .featureText{
            font-size: 2em;
        }
        .featureFunctionText {
            font-size: 1.7em;
        }
        .featureBtn {
            padding: 0.2em 0;
            line-height: 2.3em;
        }
        #avatarImage {
            width: 4em;
        }
        #welcomeText {
            font-size: 1.7em;
        }
    }

    @media screen and (max-width: 500px) {
        #welcomeText {
            font-size: 1em;
        }
        .navbar {
            background-color: black;
        }

        .navbar-brand span {
            color: rgb(52, 224, 161);
        }

        #notificationText {
            font-size: 1.2em;
        }

        .featureBlock {
            height: 4em;
        }

        .iconBlock {
            width: 2.2em;
            height: 1.8em;
        }
        .featureText{
            font-size: 1.1em;
        }

        .featureFunctionText {
            font-size: 0.7em;
        }
        .featureBtn {
            line-height: 1em;
        }
        #avatarImage {
            width: 3em;
        }
    }
</style>